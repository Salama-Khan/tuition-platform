<!DOCTYPE html>
<html>
<head><meta charset="utf-8"><title>Submissions</title>
<script src="https://cdn.tailwindcss.com"></script></head>
<body class="p-6">
  <div class="flex items-center justify-between">
    <h1 class="text-2xl font-semibold">All Submissions</h1>
    <a href="{% url 'teacher_dashboard' %}" class="text-sm underline">Back</a>
  </div>

  <div class="mt-4 grid gap-3">
    {% for s in subs %}
      <div class="border rounded p-3">
        <div class="flex justify-between items-center">
          <div class="font-medium">
            {{ s.task.title }} — {{ s.task.subject.name }}
          </div>
          {% if s.locked %}
            <span class="text-xs px-2 py-1 rounded bg-gray-200 text-gray-800">locked</span>
          {% endif %}
        </div>
        <div class="text-sm text-gray-600">
          Student: {{ s.student.username }} • Submitted: {{ s.submitted_at }}
        </div>
        <div class="mt-2 flex gap-3 items-center">
          <a class="text-sm underline" href="{{ s.file.url }}" target="_blank" rel="noopener">Download</a>
          <a class="text-sm underline" href="{% url 'teacher_submission_detail' s.id %}">Review</a>
        </div>
      </div>
    {% empty %}
      <div class="text-sm text-gray-600">No submissions yet.</div>
    {% endfor %}
  </div>
</body>
</html>
